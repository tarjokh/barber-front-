{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { vw, vh, vmin, vmax } from 'react-native-expo-viewport-units';\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction LoginForm(props) {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  formValidation = function () {\n    var _ref = _asyncToGenerator(function* (request) {\n      if (request == 400) {\n        setError(\"Неправильні дані\");\n      } else if (request == 200) {\n        props.navigation.popToTop();\n        props.navigation.navigate('Home');\n        setError(\"\");\n      } else {\n        console.log(\"server error\");\n        setError(\"\");\n      }\n    });\n    return function formValidation(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  handle_login = function () {\n    var _ref2 = _asyncToGenerator(function* (data) {\n      fetch('https://ccbf-178-137-165-225.eu.ngrok.io/login/' + email + '/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: email,\n          password: password\n        })\n      }).then(function (res) {\n        res.json();\n        formValidation(res.status);\n      });\n    });\n    return function handle_login(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsxs(View, {\n      children: [_jsx(Text, {\n        style: styles.sign_in_button,\n        children: \"Sign in\"\n      }), _jsx(Text, {\n        style: styles.sign_up_button,\n        onPress: function onPress() {\n          props.navigation.navigate('SignUp1');\n        },\n        children: \"Sign Up\"\n      })]\n    }), _jsx(View, {\n      style: styles.SignUpUnderline\n    }), _jsx(View, {\n      children: _jsxs(View, {\n        style: [styles.inputView, {\n          marginTop: vh(30)\n        }],\n        children: [_jsx(TextInput, {\n          style: styles.TextInput,\n          placeholder: \"Email\",\n          placeholderTextColor: \"#696969\",\n          onChangeText: function onChangeText(email) {\n            return setEmail(email);\n          }\n        }), _jsx(View, {\n          style: styles.underline\n        })]\n      })\n    }), _jsxs(View, {\n      style: styles.inputView,\n      children: [_jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Password\",\n        placeholderTextColor: \"#696969\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(password) {\n          return setPassword(password);\n        }\n      }), _jsx(View, {\n        style: styles.underline\n      }), error.length > 0 && _jsx(Text, {\n        style: styles.textDanger,\n        children: error\n      })]\n    }), _jsx(TouchableOpacity, {\n      children: _jsx(Text, {\n        style: styles.forgot_button,\n        children: \"Forgot Password?\"\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.loginBtn,\n      onPress: function onPress() {\n        console.log(\"Pressed\"), handle_login();\n        console.log(error);\n      },\n      children: _jsx(Text, {\n        style: styles.login_text,\n        children: \"Login\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#CFE8DC\",\n    alignItems: \"center\"\n  },\n  TextInput: {\n    flex: 1,\n    marginLeft: vw(3)\n  },\n  sign_up_button: {\n    position: 'absolute',\n    flex: 1,\n    left: vw(8),\n    fontSize: vw(8),\n    marginTop: vh(8),\n    color: '#696969'\n  },\n  sign_in_button: {\n    position: 'absolute',\n    flex: 1,\n    left: -vw(40),\n    fontSize: vw(10),\n    marginTop: vh(7)\n  },\n  inputView: {\n    backgroundColor: \"#D0EDDF\",\n    width: \"90%\",\n    height: 45,\n    marginBottom: vh(3)\n  },\n  login_text: {\n    color: \"white\",\n    textAlign: 'center',\n    fontSize: vw(5)\n  },\n  forgot_button: {\n    marginTop: vh(4),\n    marginLeft: vw(50)\n  },\n  loginBtn: {\n    width: vw(25),\n    height: vw(10),\n    marginTop: vh(-4),\n    marginLeft: vw(-65),\n    justifyContent: 'center',\n    backgroundColor: \"#5ACCE4\",\n    shadowColor: \"#000\",\n    shadowOpacity: 0.51,\n    shadowRadius: 90,\n    elevation: 15\n  },\n  SignUpUnderline: {\n    position: 'absolute',\n    backgroundColor: \"#696969\",\n    height: 1,\n    marginTop: vh(16),\n    width: vw(100)\n  },\n  underline: {\n    backgroundColor: \"black\",\n    height: 1,\n    width: vw(90)\n  },\n  notActiveColor: {\n    backgroundColor: \"#DCDCDC\"\n  },\n  activeColor: {\n    backgroundColor: \"#00BFFF\"\n  },\n  textDanger: {\n    color: \"#dc3545\"\n  }\n});\nexport default LoginForm;","map":{"version":3,"names":["StatusBar","vw","vh","vmin","vmax","React","useState","useEffect","LoginForm","props","email","setEmail","password","setPassword","error","setError","formValidation","request","navigation","popToTop","navigate","console","log","handle_login","data","fetch","method","headers","body","JSON","stringify","username","then","res","json","status","styles","container","sign_in_button","sign_up_button","SignUpUnderline","inputView","marginTop","TextInput","underline","length","textDanger","forgot_button","loginBtn","login_text","StyleSheet","create","flex","backgroundColor","alignItems","marginLeft","position","left","fontSize","color","width","height","marginBottom","textAlign","justifyContent","shadowColor","shadowOpacity","shadowRadius","elevation","notActiveColor","activeColor"],"sources":["E:/навчання/програмування/frontend/my-app/app/Screens/LoginForm.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport { vw, vh, vmin, vmax } from 'react-native-expo-viewport-units';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  TextInput,\r\n  Button,\r\n  TouchableOpacity,\r\n  BackHandler\r\n} from \"react-native\";\r\n\r\n\r\n\r\nfunction LoginForm(props) {\r\n\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  //const [btnColor, setBtnColor] = useState(false);\r\n\r\n  formValidation = async (request) => {\r\n\r\n    // input validation\r\n    if (request == 400) {\r\n      setError(\"Неправильні дані\");\r\n    } else if (request == 200) {\r\n      props.navigation.popToTop()\r\n      props.navigation.navigate('Home')\r\n      setError(\"\");\r\n    }\r\n\r\n    else {\r\n      console.log(\"server error\");\r\n      setError(\"\");\r\n    }\r\n\r\n  }\r\n\r\n  handle_login = async (data) => {\r\n    fetch('https://ccbf-178-137-165-225.eu.ngrok.io/login/' + email + '/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        username: email,\r\n        password: password,\r\n\r\n      }),\r\n    })\r\n      .then(res => {\r\n        res.json();\r\n        formValidation(res.status);\r\n      })\r\n/*      .then(json => {\r\n        localStorage.setItem('token', json.token);\r\n      });*/;\r\n  }\r\n  return (\r\n    <View style={styles.container}>\r\n      <StatusBar style=\"auto\" />\r\n      <View>\r\n        <Text style={styles.sign_in_button}>\r\n          Sign in\r\n        </Text>\r\n        <Text style={styles.sign_up_button} onPress={\r\n          () => {\r\n            props.navigation.navigate('SignUp1')\r\n          }\r\n        }>Sign Up</Text>\r\n      </View>\r\n      <View style={styles.SignUpUnderline} />\r\n      <View>\r\n        <View style={[styles.inputView, { marginTop: vh(30) }]}>\r\n          <TextInput\r\n            style={styles.TextInput}\r\n            placeholder=\"Email\"\r\n            placeholderTextColor=\"#696969\"\r\n            onChangeText={(email) => setEmail(email)}\r\n          />\r\n          <View style={styles.underline} />\r\n        </View>\r\n      </View>\r\n\r\n\r\n      <View style={styles.inputView}>\r\n        <TextInput\r\n          style={styles.TextInput}\r\n          placeholder=\"Password\"\r\n          placeholderTextColor=\"#696969\"\r\n          secureTextEntry\r\n          onChangeText={(password) => setPassword(password)}\r\n        />\r\n        <View style={styles.underline} />\r\n        {error.length > 0 && <Text style={styles.textDanger}>{error}</Text>}\r\n      </View>\r\n\r\n\r\n      <TouchableOpacity>\r\n        <Text style={styles.forgot_button}>Forgot Password?</Text>\r\n      </TouchableOpacity>\r\n\r\n      <TouchableOpacity\r\n        style={styles.loginBtn}\r\n        onPress={\r\n          () => {\r\n            console.log(\"Pressed\"),\r\n              handle_login()\r\n            console.log(error);\r\n          }\r\n        }\r\n      >\r\n        <Text style={styles.login_text}>Login</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#CFE8DC\",\r\n    alignItems: \"center\",\r\n    //justifyContent: \"center\",\r\n  },\r\n\r\n\r\n\r\n  TextInput: {\r\n    flex: 1,\r\n    marginLeft: vw(3),\r\n  },\r\n\r\n  sign_up_button: {\r\n    position: 'absolute',\r\n    flex: 1,\r\n    left: vw(8),\r\n    fontSize: vw(8),\r\n    marginTop: vh(8),\r\n    color: '#696969',\r\n  },\r\n\r\n  sign_in_button: {\r\n    position: 'absolute',\r\n    flex: 1,\r\n    left: -vw(40),\r\n    fontSize: vw(10),\r\n    marginTop: vh(7),\r\n  },\r\n\r\n  inputView: {\r\n    backgroundColor: \"#D0EDDF\",\r\n    width: \"90%\",\r\n    height: 45,\r\n    marginBottom: vh(3),\r\n  },\r\n\r\n  login_text: {\r\n    color: \"white\",\r\n    textAlign: 'center',\r\n    fontSize: vw(5),\r\n  },\r\n\r\n  forgot_button: {\r\n    marginTop: vh(4),\r\n    marginLeft: vw(50),\r\n  },\r\n\r\n  loginBtn: {\r\n    width: vw(25),\r\n    height: vw(10),\r\n    marginTop: vh(-4),\r\n    marginLeft: vw(-65),\r\n    justifyContent: 'center',\r\n    backgroundColor: \"#5ACCE4\",\r\n    shadowColor: \"#000\",\r\n    shadowOpacity: 0.51,\r\n    shadowRadius: 90,\r\n    elevation: 15,\r\n  },\r\n  SignUpUnderline: {\r\n    position: 'absolute',\r\n    backgroundColor: \"#696969\",\r\n    height: 1,\r\n    marginTop: vh(16),\r\n    width: vw(100),\r\n  },\r\n  underline: {\r\n    backgroundColor: \"black\",\r\n    height: 1,\r\n    width: vw(90),\r\n  },\r\n  notActiveColor: {\r\n    backgroundColor: \"#DCDCDC\",\r\n  },\r\n  activeColor: {\r\n    backgroundColor: \"#00BFFF\",\r\n  },\r\n  textDanger: {\r\n    color: \"#dc3545\"\r\n  },\r\n})\r\nexport default LoginForm"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,EAAE,EAAEC,EAAE,EAAEC,IAAI,EAAEC,IAAI,QAAQ,kCAAkC;AACrE,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcnD,SAASC,SAAS,CAACC,KAAK,EAAE;EAGxB,gBAA0BH,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BI,KAAK;IAAEC,QAAQ;EACtB,iBAAgCL,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCM,QAAQ;IAAEC,WAAW;EAC5B,iBAA0BP,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BQ,KAAK;IAAEC,QAAQ;EAGtBC,cAAc;IAAA,6BAAG,WAAOC,OAAO,EAAK;MAGlC,IAAIA,OAAO,IAAI,GAAG,EAAE;QAClBF,QAAQ,CAAC,kBAAkB,CAAC;MAC9B,CAAC,MAAM,IAAIE,OAAO,IAAI,GAAG,EAAE;QACzBR,KAAK,CAACS,UAAU,CAACC,QAAQ,EAAE;QAC3BV,KAAK,CAACS,UAAU,CAACE,QAAQ,CAAC,MAAM,CAAC;QACjCL,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,MAEI;QACHM,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3BP,QAAQ,CAAC,EAAE,CAAC;MACd;IAEF,CAAC;IAAA;MAAA;IAAA;EAAA;EAEDQ,YAAY;IAAA,8BAAG,WAAOC,IAAI,EAAK;MAC7BC,KAAK,CAAC,iDAAiD,GAAGf,KAAK,GAAG,GAAG,EAAE;QACrEgB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,QAAQ,EAAErB,KAAK;UACfE,QAAQ,EAAEA;QAEZ,CAAC;MACH,CAAC,CAAC,CACCoB,IAAI,CAAC,UAAAC,GAAG,EAAI;QACXA,GAAG,CAACC,IAAI,EAAE;QACVlB,cAAc,CAACiB,GAAG,CAACE,MAAM,CAAC;MAC5B,CAAC,CAAC;IAIN,CAAC;IAAA;MAAA;IAAA;EAAA;EACD,OACE,MAAC,IAAI;IAAC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAA,WAC5B,KAAC,SAAS;MAAC,KAAK,EAAC;IAAM,EAAG,EAC1B,MAAC,IAAI;MAAA,WACH,KAAC,IAAI;QAAC,KAAK,EAAED,MAAM,CAACE,cAAe;QAAA;MAAA,EAE5B,EACP,KAAC,IAAI;QAAC,KAAK,EAAEF,MAAM,CAACG,cAAe;QAAC,OAAO,EACzC,mBAAM;UACJ9B,KAAK,CAACS,UAAU,CAACE,QAAQ,CAAC,SAAS,CAAC;QACtC,CACD;QAAA;MAAA,EAAe;IAAA,EACX,EACP,KAAC,IAAI;MAAC,KAAK,EAAEgB,MAAM,CAACI;IAAgB,EAAG,EACvC,KAAC,IAAI;MAAA,UACH,MAAC,IAAI;QAAC,KAAK,EAAE,CAACJ,MAAM,CAACK,SAAS,EAAE;UAAEC,SAAS,EAAExC,EAAE,CAAC,EAAE;QAAE,CAAC,CAAE;QAAA,WACrD,KAAC,SAAS;UACR,KAAK,EAAEkC,MAAM,CAACO,SAAU;UACxB,WAAW,EAAC,OAAO;UACnB,oBAAoB,EAAC,SAAS;UAC9B,YAAY,EAAE,sBAACjC,KAAK;YAAA,OAAKC,QAAQ,CAACD,KAAK,CAAC;UAAA;QAAC,EACzC,EACF,KAAC,IAAI;UAAC,KAAK,EAAE0B,MAAM,CAACQ;QAAU,EAAG;MAAA;IAC5B,EACF,EAGP,MAAC,IAAI;MAAC,KAAK,EAAER,MAAM,CAACK,SAAU;MAAA,WAC5B,KAAC,SAAS;QACR,KAAK,EAAEL,MAAM,CAACO,SAAU;QACxB,WAAW,EAAC,UAAU;QACtB,oBAAoB,EAAC,SAAS;QAC9B,eAAe;QACf,YAAY,EAAE,sBAAC/B,QAAQ;UAAA,OAAKC,WAAW,CAACD,QAAQ,CAAC;QAAA;MAAC,EAClD,EACF,KAAC,IAAI;QAAC,KAAK,EAAEwB,MAAM,CAACQ;MAAU,EAAG,EAChC9B,KAAK,CAAC+B,MAAM,GAAG,CAAC,IAAI,KAAC,IAAI;QAAC,KAAK,EAAET,MAAM,CAACU,UAAW;QAAA,UAAEhC;MAAK,EAAQ;IAAA,EAC9D,EAGP,KAAC,gBAAgB;MAAA,UACf,KAAC,IAAI;QAAC,KAAK,EAAEsB,MAAM,CAACW,aAAc;QAAA;MAAA;IAAwB,EACzC,EAEnB,KAAC,gBAAgB;MACf,KAAK,EAAEX,MAAM,CAACY,QAAS;MACvB,OAAO,EACL,mBAAM;QACJ3B,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,EACpBC,YAAY,EAAE;QAChBF,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;MACpB,CACD;MAAA,UAED,KAAC,IAAI;QAAC,KAAK,EAAEsB,MAAM,CAACa,UAAW;QAAA;MAAA;IAAa,EAC3B;EAAA,EACd;AAEX;AAEA,IAAMb,MAAM,GAAGc,UAAU,CAACC,MAAM,CAAC;EAC/Bd,SAAS,EAAE;IACTe,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE,SAAS;IAC1BC,UAAU,EAAE;EAEd,CAAC;EAIDX,SAAS,EAAE;IACTS,IAAI,EAAE,CAAC;IACPG,UAAU,EAAEtD,EAAE,CAAC,CAAC;EAClB,CAAC;EAEDsC,cAAc,EAAE;IACdiB,QAAQ,EAAE,UAAU;IACpBJ,IAAI,EAAE,CAAC;IACPK,IAAI,EAAExD,EAAE,CAAC,CAAC,CAAC;IACXyD,QAAQ,EAAEzD,EAAE,CAAC,CAAC,CAAC;IACfyC,SAAS,EAAExC,EAAE,CAAC,CAAC,CAAC;IAChByD,KAAK,EAAE;EACT,CAAC;EAEDrB,cAAc,EAAE;IACdkB,QAAQ,EAAE,UAAU;IACpBJ,IAAI,EAAE,CAAC;IACPK,IAAI,EAAE,CAACxD,EAAE,CAAC,EAAE,CAAC;IACbyD,QAAQ,EAAEzD,EAAE,CAAC,EAAE,CAAC;IAChByC,SAAS,EAAExC,EAAE,CAAC,CAAC;EACjB,CAAC;EAEDuC,SAAS,EAAE;IACTY,eAAe,EAAE,SAAS;IAC1BO,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,EAAE;IACVC,YAAY,EAAE5D,EAAE,CAAC,CAAC;EACpB,CAAC;EAED+C,UAAU,EAAE;IACVU,KAAK,EAAE,OAAO;IACdI,SAAS,EAAE,QAAQ;IACnBL,QAAQ,EAAEzD,EAAE,CAAC,CAAC;EAChB,CAAC;EAED8C,aAAa,EAAE;IACbL,SAAS,EAAExC,EAAE,CAAC,CAAC,CAAC;IAChBqD,UAAU,EAAEtD,EAAE,CAAC,EAAE;EACnB,CAAC;EAED+C,QAAQ,EAAE;IACRY,KAAK,EAAE3D,EAAE,CAAC,EAAE,CAAC;IACb4D,MAAM,EAAE5D,EAAE,CAAC,EAAE,CAAC;IACdyC,SAAS,EAAExC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjBqD,UAAU,EAAEtD,EAAE,CAAC,CAAC,EAAE,CAAC;IACnB+D,cAAc,EAAE,QAAQ;IACxBX,eAAe,EAAE,SAAS;IAC1BY,WAAW,EAAE,MAAM;IACnBC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE;EACb,CAAC;EACD5B,eAAe,EAAE;IACfgB,QAAQ,EAAE,UAAU;IACpBH,eAAe,EAAE,SAAS;IAC1BQ,MAAM,EAAE,CAAC;IACTnB,SAAS,EAAExC,EAAE,CAAC,EAAE,CAAC;IACjB0D,KAAK,EAAE3D,EAAE,CAAC,GAAG;EACf,CAAC;EACD2C,SAAS,EAAE;IACTS,eAAe,EAAE,OAAO;IACxBQ,MAAM,EAAE,CAAC;IACTD,KAAK,EAAE3D,EAAE,CAAC,EAAE;EACd,CAAC;EACDoE,cAAc,EAAE;IACdhB,eAAe,EAAE;EACnB,CAAC;EACDiB,WAAW,EAAE;IACXjB,eAAe,EAAE;EACnB,CAAC;EACDP,UAAU,EAAE;IACVa,KAAK,EAAE;EACT;AACF,CAAC,CAAC;AACF,eAAenD,SAAS"},"metadata":{},"sourceType":"module"}